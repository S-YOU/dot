#!/bin/sh

export port=${port:-7000}

if [ -d "$1" ]; then
    cd "$1"
fi

screen -t httphere ruby -rwebrick -e 'WEBrick::HTTPServer.new(:DocumentRoot => "./", :Port => '$port').start'

url="http://localhost:${port}"

case "$OSTYPE" in 
    darwin*)
        open "$url"
        ;;
    *)
        ;;
esac
